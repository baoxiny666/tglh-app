{"remainingRequest":"E:\\VueProject\\tglh-app\\node_modules\\babel-loader\\lib\\index.js!E:\\VueProject\\tglh-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\VueProject\\tglh-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VueProject\\tglh-app\\src\\components\\system\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VueProject\\tglh-app\\src\\components\\system\\Login.vue","mtime":1609741858993},{"path":"E:\\VueProject\\tglh-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"E:\\VueProject\\tglh-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532801399},{"path":"E:\\VueProject\\tglh-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"E:\\VueProject\\tglh-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500371}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJFOi9WdWVQcm9qZWN0L3RnbGgtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBZXMgZnJvbSAnLi4vLi4vdXRpbHMvYWVzLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEFlczogQWVzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF9yZWY7CgogICAgcmV0dXJuIF9yZWYgPSB7CiAgICAgIE1vZGFsVGV4dDogJycsCiAgICAgIGNvbmZpcm1UaXBzVmlzaWJsZTogZmFsc2UsCiAgICAgIGNvbmZpcm1UaXBzTG9hZGluZzogZmFsc2UKICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAiTW9kYWxUZXh0IiwgJycpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgImlzU3VjY2VzcyIsIHRydWUpLCBfcmVmOwogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICB0aGlzLmZvcm0gPSB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcywgewogICAgICBuYW1lOiAnbm9ybWFsX2xvZ2luJwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKGZ1bmN0aW9uIChlcnIsIHZhbHVlcykgewogICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgdmFsdWVzIG9mIGZvcm06ICcsIHZhbHVlcyk7CiAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgdXNlck5hbWU6IHZhbHVlcy51c2VyTmFtZSwKICAgICAgICAgICAgcGFzc1dvcmQ6IHZhbHVlcy5wYXNzV29yZAogICAgICAgICAgfTsKICAgICAgICAgIHZhciBlbmNfYWZ0ZXIgPSBBZXMuZW5jcnlwdChkYXRhKTsKICAgICAgICAgIHZhciBnbG9iYWxzdGF0ZSA9IHRoYXQuJHN0b3JlLnN0YXRlOwogICAgICAgICAgdmFyIGdsb2JhbFBhdGggPSB0aGF0LiRzdG9yZS5zdGF0ZS5jb25maWcuZ2xvYmFsUGF0aDsKICAgICAgICAgIHZhciBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7CiAgICAgICAgICBwYXJhbXMuYXBwZW5kKCdhZXNEYXRhJywgZW5jX2FmdGVyKTsKICAgICAgICAgIGRlYnVnZ2VyOwoKICAgICAgICAgIF90aGlzLiRheGlvcyh7CiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICB1cmw6ICdhcGlzL2p3dC9sb2dpbicsCiAgICAgICAgICAgIGRhdGE6IHBhcmFtcwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuaXNTdWNjZXNzID09PSBmYWxzZSkgewogICAgICAgICAgICAgIHRoYXQuaXNTdWNjZXNzID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhhdC5jb25maXJtVGlwc1Zpc2libGUgPSB0cnVlOwogICAgICAgICAgICAgIHRoYXQuTW9kYWxUZXh0ID0gJ+eUqOaIt+WQjeaIluWvhueggemUmeivryzor7fph43mlrDnmbvlvZUnOyAvLyB0aGF0LiRyb3V0ZXIucHVzaCgnL2xvZ2luJykKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGF0LmlzU3VjY2VzcyA9IHRydWU7CiAgICAgICAgICAgICAgdGhhdC5jb25maXJtVGlwc1Zpc2libGUgPSB0cnVlOwogICAgICAgICAgICAgIHRoYXQuTW9kYWxUZXh0ID0gJ+eZu+mZhuaIkOWKnyzngrnlh7vnoa7lrprnu6fnu60nOwogICAgICAgICAgICAgIHRoYXQuJHN0b3JlLmNvbW1pdCgnY2hhbmdlTG9naW4nLCB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiByZXNwb25zZS5kYXRhLmNvbnRlbnQudG9rZW4KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGF0LiRyb3V0ZXIucHVzaCgnL2luZGV4Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIFJlZ2lzdDogZnVuY3Rpb24gUmVnaXN0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL1JlZ2lzdCcpOwogICAgfSwKICAgIGhhbmRsZUNvbmZpcm1UaXBzT2s6IGZ1bmN0aW9uIGhhbmRsZUNvbmZpcm1UaXBzT2soKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5Nb2RhbFRleHQgPSAnJzsKICAgICAgdGhpcy5jb25maXJtTG9hZGluZyA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5jb25maXJtVGlwc1Zpc2libGUgPSBmYWxzZTsKICAgICAgICBfdGhpczIuY29uZmlybVRpcHNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0sIDEwMCk7CiAgICB9LAogICAgaGFuZGxlQ29uZmlybVRpcHNDYW5jZWw6IGZ1bmN0aW9uIGhhbmRsZUNvbmZpcm1UaXBzQ2FuY2VsKCkgewogICAgICBjb25zb2xlLmxvZygn54K55Ye75Y+W5raI5oyJ6ZKuLi4uLi4uLi4nKTsKICAgICAgdGhpcy5jb25maXJtVGlwc1Zpc2libGUgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n <div class=\"LoginBody\">\n   <div class=\"BackGround\"></div>\n    <a-layout>\n      <a-layout-header class=\"LayoutHeader\"></a-layout-header>\n      <a-layout-content class=\"LayoutContent\">\n        <div class=\"LoginForm\">\n          <br>\n          <h2 class=\"title\">隐患上报管理系统</h2>\n          <br>\n          <a-form\n            id=\"components-form-demo-normal-login\"\n            :form=\"form\"\n            class=\"Login-Form\"\n            @submit=\"handleSubmit\"\n          >\n            <a-form-item>\n              <a-input\n                v-decorator=\"[\n                  'userName',\n                  { rules: [{ required: true, message: '用户名不能为空!' }] },\n                ]\"\n                placeholder=\"请输入用户名\"\n              >\n                <a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(24,144,255,95)\" />\n              </a-input>\n            </a-form-item>\n            <a-form-item>\n              <a-input\n                v-decorator=\"[\n                  'passWord',\n                  { rules: [{ required: true, message: '密码不能为空!' }] },\n                ]\"\n                type=\"password\"\n                placeholder=\"请输入密码\"\n              >\n                <a-icon slot=\"prefix\" type=\"lock\" style=\"color: rgba(24,144,255,95)\" />\n              </a-input>\n            </a-form-item>\n            <a-form-item>\n              <a-checkbox\n                v-decorator=\"[\n                  'remember',\n                  {\n                    valuePropName: 'checked',\n                    initialValue: true,\n                  },\n                ]\"\n              >\n                记住密码\n              </a-checkbox>\n              <a class=\"login-form-forgot\" href=\"\">\n                忘记密码\n              </a>\n              <a-button type=\"primary\" html-type=\"submit\" class=\"login-form-button\">\n                登录\n              </a-button>            \n              <a @click=\"Regist()\">\n                立即注册\n              </a>\n            </a-form-item>\n          </a-form>\n        </div>\n         <a-modal\n          title=\"提示\"\n          :visible=\"confirmTipsVisible\"\n          :confirm-loading=\"confirmTipsLoading\"\n          @ok=\"handleConfirmTipsOk\"\n          @cancel=\"handleConfirmTipsCancel\"\n        >\n      <p>{{ ModalText }}</p>\n    </a-modal>\n      </a-layout-content>\n      <a-layout-footer class=\"LayoutFooter\"></a-layout-footer>\n    </a-layout>\n </div>\n</template>\n\n<script>\nimport Aes from '../../utils/aes.js'\n\nexport default {\n  components:{\n    Aes\n  },\n  data(){\n       return {\n          ModalText: '',\n          confirmTipsVisible: false,\n          confirmTipsLoading: false,\n          ModalText:'',\n          isSuccess:true\n       }\n  },\n  beforeCreate() {\n    this.form = this.$form.createForm(this, { name: 'normal_login' });\n  },\n  methods: {\n    handleSubmit(e) {\n      e.preventDefault();\n      var that = this;\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          console.log('Received values of form: ', values);\n          let data = {\n                       userName: values.userName,\n                       passWord: values.passWord\n          }\n\n          let enc_after = Aes.encrypt(data);\n          let globalstate = that.$store.state;\n          let globalPath = that.$store.state.config.globalPath;\n          let params = new URLSearchParams();\n          params.append('aesData', enc_after);\n\n          debugger\n          this.$axios({\n            method: 'post',\n            url: 'apis/jwt/login',\n            data:params\n          }).then(function (response) {\n            console.log(response);\n            if(response.data.isSuccess === false){\n              that.isSuccess = false\n              that.confirmTipsVisible = true\n              that.ModalText = '用户名或密码错误,请重新登录'\n              // that.$router.push('/login')\n            }else{\n              that.isSuccess = true\n              that.confirmTipsVisible = true\n              that.ModalText = '登陆成功,点击确定继续'\n              that.$store.commit('changeLogin',{Authorization:response.data.content.token})\n              that.$router.push('/index')\n            }\n          }).catch(function (error) {\n              console.log(error);\n          })\n         \n          \n        }\n      });\n    },\n    Regist(){\n      this.$router.push('/Regist')\n    },\n    handleConfirmTipsOk(){\n        this.ModalText = '';\n        this.confirmLoading = true;\n        setTimeout(() => {\n          this.confirmTipsVisible = false;\n          this.confirmTipsLoading = false;\n        }, 100);\n    },\n    handleConfirmTipsCancel(){\n      console.log('点击取消按钮........')\n      this.confirmTipsVisible = false\n    }\n  },\n};\n</script>\n<style lang=\"scss\" >\n#components-form-demo-normal-login .login-form {\n  max-width: 300px;\n}\n#components-form-demo-normal-login .login-form-forgot {\n  float: right;\n}\n#components-form-demo-normal-login .login-form-button {\n  width: 100%;\n}\n.title{\n  font-size: 22px;\n\ttext-align: center;\n  text-shadow: blue($color:blue);\n}\n.LayoutHeader{\n  width: 100%;\n  height:190px !important;\n  background-color:white !important; \n}\n.LayoutContent{\n  background-color: white;\n}\n.LayoutFooter{\n  background-color: white !important;\n}\n.LoginForm{\n  width: 25%;\n  margin:0 auto;\n  background-color: white;\n  position: relative;\n\toverflow: hidden;\n  border-radius: 17px;\n  height: 300px !important;\n  box-shadow:2px 2px 10px gray;\n}\n.Login-Form{\n  width: 80%;\n  margin: 0 auto !important;\n}\n.LoginBody{\n  width: 100%;\n  height: 100%;\n}\n.BackGround{\n\tdisplay: block;\n\tposition: absolute;\n\tz-index: 0;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: url(../../assets/login-bg.jpg) no-repeat;\n\tbackground-size: cover;\n}\n</style>"],"sourceRoot":"src/components/system"}]}